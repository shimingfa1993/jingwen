"use strict";(self["webpackChunklove_memory_site"]=self["webpackChunklove_memory_site"]||[]).push([[313],{313:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"letters-page"},[t._m(0),e("div",{staticClass:"letters-container"},[e("div",{staticClass:"container"},[e("div",{staticClass:"letters-grid"},t._l(t.letters,function(s,a){return e("div",{key:a,staticClass:"letter-card",attrs:{"data-aos":"fade-up","data-aos-delay":100*a},on:{click:function(e){return t.handleLetterClick(s,a)}}},[e("div",{staticClass:"letter-envelope"},[e("div",{staticClass:"letter-seal"},[t._v(t._s(a===t.letters.length-1?"🎮":"💕"))]),e("div",{staticClass:"letter-preview"},[e("div",{staticClass:"letter-date"},[t._v(t._s(s.date))]),e("h3",{staticClass:"letter-title"},[t._v(t._s(s.title))]),e("p",{staticClass:"letter-excerpt"},[t._v(t._s(s.excerpt))]),e("div",{staticClass:"letter-author"},[t._v("— "+t._s(s.author))]),a===t.letters.length-1?e("div",{staticClass:"special-hint"},[t._v(" ✨ 点击开启特别惊喜 ✨ ")]):t._e()])])])}),0)])]),t.showModal?e("div",{staticClass:"modal-overlay",on:{click:t.closeModal}},[e("div",{staticClass:"modal-content letter-modal",on:{click:function(t){t.stopPropagation()}}},[e("button",{staticClass:"modal-close",on:{click:t.closeModal}},[t._v("×")]),e("div",{staticClass:"letter-content"},[e("div",{staticClass:"letter-header"},[e("h2",[t._v(t._s(t.currentLetter.title))]),e("div",{staticClass:"letter-meta"},[e("span",{staticClass:"letter-date"},[t._v(t._s(t.currentLetter.date))]),e("span",{staticClass:"letter-author"},[t._v(t._s(t.currentLetter.author))])])]),e("div",{staticClass:"letter-body"},t._l(t.currentLetter.content,function(s,a){return e("p",{key:a},[t._v(" "+t._s(s)+" ")])}),0),e("div",{staticClass:"letter-signature"},[e("p",[t._v(t._s(t.currentLetter.signature))])])]),e("div",{staticClass:"modal-nav"},[e("button",{staticClass:"nav-btn",on:{click:t.prevLetter}},[t._v("← 上一封")]),e("button",{staticClass:"nav-btn",on:{click:t.nextLetter}},[t._v("下一封 →")])])])]):t._e(),e("LoveGames",{ref:"loveGames",on:{close:t.onGamesClose}})],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"page-title"},[t._v("我们的情书")]),e("p",{staticClass:"page-subtitle"},[t._v("那些年写下的情话，字字句句都是真心")])])])}],r=function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"love-games-overlay"},[e("div",{staticClass:"games-container"},[e("div",{staticClass:"game-header"},[e("h2",[t._v("❤️ 十三年·十三个爱的小游戏 ❤️")]),e("p",[t._v("亲爱的静文，为你准备了13个特别的小游戏，完成它们解锁我们的美好回忆～")]),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"progress",style:{width:t.completedGames.length/13*100+"%"}})]),e("span",{staticClass:"progress-text"},[t._v(t._s(t.completedGames.length)+"/13")]),t.getGameAttempts(t.currentGame)>t.getMaxAttempts(t.currentGame)?e("div",{staticClass:"debug-controls"},[e("button",{staticClass:"emergency-btn",on:{click:t.forceCompleteCurrentGame}},[t._v(" 🚑 强制完成当前游戏 ")])]):t._e()]),1===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("🎯 第一关：幸运数字")]),e("p",[t._v("仔细看数字闪烁，当看到66时点击停止！")]),e("div",{staticClass:"number-flash"},[e("div",{staticClass:"flash-container",class:{active:t.isFlashing}},[e("div",{staticClass:"number",class:{blurry:t.isBlurry&&!t.completedGames.includes(1),clear:!t.isBlurry&&t.isFlashing||t.completedGames.includes(1),hidden:!t.isFlashing&&!t.completedGames.includes(1)},style:{opacity:t.completedGames.includes(1)?1:t.numberOpacity,transform:t.completedGames.includes(1)?"scale(1)":`scale(${t.numberScale}) translateY(${t.numberShake}px)`}},[t._v(" "+t._s(t.completedGames.includes(1)?66:t.currentNumber)+" ")])]),e("button",{staticClass:"game-btn",attrs:{disabled:t.completedGames.includes(1)},on:{click:function(e){t.isFlashing?t.stopFlash():t.startNumberFlash()}}},[t._v(" "+t._s(t.completedGames.includes(1)?"已完成":t.isFlashing?"停止":"开始")+" ")]),t.completedGames.includes(1)?e("div",{staticClass:"success-hint"},[t._v(" ✅ 游戏已完成！您成功找到了66这个幸运数字！ ")]):t.gameAttempts[1]>0?e("div",{staticClass:"attempt-hint"},[t._v(" 尝试次数: "+t._s(t.gameAttempts[1])+"/"+t._s(t.getMaxAttempts(1))+" ")]):t._e(),t.completedGames.includes(1)?t._e():e("div",{staticClass:"game-hint"},[t._v(" 💡 提示：数字会在清晰和模糊之间变化，抓住时机！ ")])])]):t._e(),2===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("💝 第二关：日期拼图")]),e("p",[t._v("将数字拖拽到正确位置，拼成我们的纪念日期：0528！")]),e("div",{staticClass:"puzzle-area"},[e("div",{staticClass:"puzzle-target"},t._l(t.puzzleTargetNumbers,function(s,a){return e("div",{key:a,staticClass:"puzzle-slot",attrs:{"data-slot":a},on:{dragover:function(t){t.preventDefault()},drop:function(e){return t.dropPuzzlePiece(e,a)}}},[t.puzzlePieces[a].placed?e("div",{staticClass:"puzzle-piece placed",attrs:{"data-piece":t.puzzlePieces[a].number}},[t._v(" "+t._s(t.puzzlePieces[a].number)+" ")]):e("div",{staticClass:"slot-hint"},[t._v(t._s(s))])])}),0),e("div",{staticClass:"puzzle-pieces"},t._l(t.availablePuzzlePieces,function(s){return e("div",{key:s,staticClass:"puzzle-piece",attrs:{"data-piece":s,draggable:"true"},on:{dragstart:t.startPuzzleDrag,dragend:t.endPuzzleDrag}},[t._v(" "+t._s(s)+" ")])}),0),t.gameAttempts[2]>0?e("div",{staticClass:"attempt-hint"},[t._v(" 尝试次数: "+t._s(t.gameAttempts[2])+"/"+t._s(t.getMaxAttempts(2))+" ")]):t._e(),e("div",{staticClass:"puzzle-hint"},[t._v(" 提示：将数字拖拽到对应的位置（0→第1位, 5→第2位, 2→第3位, 8→第4位） ")])])]):t._e(),3===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("💌 第三关：情话配对")]),e("p",[t._v("将情话的上下句正确配对！")]),e("div",{staticClass:"love-quotes-game"},[e("div",{staticClass:"quotes-left"},t._l(t.loveQuotes,function(s,a){return e("div",{key:"left-"+a,staticClass:"quote-item",class:{selected:t.selectedLeft===a,matched:s.matched},on:{click:function(e){return t.selectLeft(a)}}},[t._v(" "+t._s(s.first)+" ")])}),0),e("div",{staticClass:"quotes-right"},t._l(t.shuffledSecondParts,function(s,a){return e("div",{key:"right-"+a,staticClass:"quote-item",class:{selected:t.selectedRight===a,matched:t.secondPartsMatched[a]},on:{click:function(e){return t.selectRight(a)}}},[t._v(" "+t._s(s.second)+" ")])}),0)])]):t._e(),4===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("📅 第四关：重要日期")]),e("p",[t._v("成为文哥忠诚的小发子的年份！")]),e("div",{staticClass:"date-game"},[e("div",{staticClass:"date-options"},t._l([2010,2011,2012,2013],function(s){return e("button",{key:s,staticClass:"date-btn",class:{correct:s===t.correctYear&&t.completedGames.includes(4)},attrs:{disabled:t.completedGames.includes(4)},on:{click:function(e){return t.selectYear(s)}}},[t._v(" "+t._s(s)+"年 ")])}),0),t.gameAttempts[4]>0&&!t.completedGames.includes(4)?e("div",{staticClass:"attempt-hint"},[t._v(" 尝试次数: "+t._s(t.gameAttempts[4])+"/"+t._s(t.getMaxAttempts(4))+" ")]):t._e(),t.completedGames.includes(4)?e("div",{staticClass:"success-hint"},[t._v(" ✅ 游戏已完成！正确答案是2012年 ")]):t._e()])]):t._e(),5===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("📷 第五关：美好回忆")]),e("p",[t._v("点击翻开卡片，找到两张相同的照片！")]),e("div",{staticClass:"memory-game"},t._l(t.memoryCards,function(s,a){return e("div",{key:a,staticClass:"memory-card",class:{flipped:s.flipped,matched:s.matched},on:{click:function(e){return t.flipCard(a)}}},[e("div",{staticClass:"card-front"},[t._v("❤️")]),e("div",{staticClass:"card-back"},[t._v(t._s(s.emoji))])])}),0)]):t._e(),6===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("🔤 第六关：爱的密码")]),e("p",[t._v('按正确顺序点击字母，拼出"LOVE"！')]),e("div",{staticClass:"letter-game"},[e("div",{staticClass:"target-word"},[t._v(t._s(t.targetWord))]),e("div",{staticClass:"letter-buttons"},t._l(t.shuffledLetters,function(s){return e("button",{key:s,staticClass:"letter-btn",attrs:{disabled:t.selectedLetters.includes(s)},on:{click:function(e){return t.selectLetter(s)}}},[t._v(" "+t._s(s)+" ")])}),0),e("div",{staticClass:"selected-letters"},[t._v(t._s(t.selectedLetters.join("")))]),t.gameAttempts[6]>0?e("div",{staticClass:"attempt-hint"},[t._v(" 尝试次数: "+t._s(t.gameAttempts[6])+"/"+t._s(t.getMaxAttempts(6))+" ")]):t._e()])]):t._e(),7===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("🌈 第七关：彩虹记忆")]),e("p",[t._v("记住颜色闪烁的顺序，然后按相同顺序点击！")]),e("div",{staticClass:"color-game"},[e("div",{staticClass:"color-buttons"},t._l(t.colors,function(s,a){return e("button",{key:a,staticClass:"color-btn",class:{active:t.activeColor===a},style:{backgroundColor:s},attrs:{disabled:!t.gameStarted||t.sequenceShowing},on:{click:function(e){return t.clickColor(a)}}})}),0),t.sequenceShowing||t.gameStarted?t._e():e("button",{staticClass:"game-btn",on:{click:t.startColorGame}},[t._v("开始")]),t.sequenceShowing?e("div",{staticClass:"status-hint"},[t._v("请记住颜色闪烁的顺序...")]):t._e(),t.gameStarted&&!t.sequenceShowing?e("div",{staticClass:"status-hint"},[t._v(" 现在请按刚才的顺序点击颜色！("+t._s(t.playerSequence.length)+"/"+t._s(t.colorSequence.length)+") ")]):t._e()])]):t._e(),8===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("⏰ 第八关：时光排序")]),e("p",[t._v("将我们的重要时刻按时间顺序排列！")]),e("div",{staticClass:"timeline-game"},[e("div",{staticClass:"timeline-events"},t._l(t.timelineEvents,function(s,a){return e("div",{key:a,staticClass:"timeline-event",attrs:{draggable:"true"},on:{dragstart:function(e){return t.startTimelineDrag(a)},dragover:function(t){t.preventDefault()},drop:function(e){return t.dropTimelineEvent(a)}}},[t._v(" "+t._s(s.title)+" ")])}),0),e("button",{staticClass:"game-btn",on:{click:t.checkTimelineOrder}},[t._v("检查顺序")])])]):t._e(),9===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("🔍 第九关：火眼金睛")]),e("p",[t._v("找出两张图中的3个不同之处！点击红圈找出不同点")]),e("div",{staticClass:"spot-difference-game"},[e("div",{staticClass:"image-pair"},[e("div",{staticClass:"game-image left-image"},[t._m(0),t._l(t.differences,function(s){return e("div",{key:"left-"+s.id,staticClass:"difference-spot",class:{found:s.found},style:{top:s.y+"px",left:s.x+"px"},on:{click:function(e){return t.foundDifference(s.id)}}})})],2),e("div",{staticClass:"game-image right-image"},[t._m(1),t._l(t.differences,function(s){return e("div",{key:"right-"+s.id,staticClass:"difference-spot",class:{found:s.found},style:{top:s.y+"px",left:s.x+"px"},on:{click:function(e){return t.foundDifference(s.id)}}})})],2)]),e("div",{staticClass:"difference-progress"},[t._v(" 已找到 "+t._s(t.foundDifferencesCount)+"/3 个不同点 ")])])]):t._e(),10===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("🔐 第十关：爱的密码")]),e("p",[t._v("输入我想对静文说的得数字（三位数字）！")]),t.completedGames.includes(10)?t._e():e("div",{staticClass:"password-debug"},[t._v(" 当前输入："+t._s(t.passwordInput.join("")||"无")+" ")]),e("div",{staticClass:"password-game"},[e("div",{staticClass:"password-display"},t._l(t.passwordInput,function(s,a){return e("span",{key:a,staticClass:"password-digit"},[t._v(" "+t._s(s||"_")+" ")])}),0),e("div",{staticClass:"number-pad"},[t._l([1,2,3,4,5,6,7,8,9,0],function(s){return e("button",{key:s,staticClass:"number-btn",attrs:{disabled:t.completedGames.includes(10)},on:{click:function(e){return t.inputPassword(s)}}},[t._v(" "+t._s(s)+" ")])}),e("button",{staticClass:"clear-btn",attrs:{disabled:t.completedGames.includes(10)},on:{click:t.clearPassword}},[t._v("清除")])],2),t.completedGames.includes(10)?e("div",{staticClass:"success-hint"},[t._v(" ✅ 游戏已完成！密码正确：520！ ")]):t.gameAttempts[10]>0?e("div",{staticClass:"attempt-hint"},[t._v(" 尝试次数: "+t._s(t.gameAttempts[10])+"/"+t._s(t.getMaxAttempts(10))+" ")]):t._e()])]):t._e(),11===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("🎵 第十一关：爱的节拍")]),e("p",[t._v("跟着节拍点击，完成13下！")]),e("div",{staticClass:"rhythm-game"},[e("div",{staticClass:"beat-circle",class:{active:t.beatActive}}),e("div",{staticClass:"beat-counter"},[t._v(t._s(t.beatCount)+"/13")]),t.rhythmGameStarted?t._e():e("button",{staticClass:"game-btn",on:{click:t.startRhythmGame}},[t._v("开始")])])]):t._e(),12===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("⭐ 第十二关：星空爱语")]),e("p",[t._v("点击所有星星，让它们发光组成爱心形状！")]),e("div",{staticClass:"constellation-game"},[e("svg",{staticClass:"star-canvas",attrs:{width:"300",height:"200"}},[t._l(t.stars,function(s,a){return e("circle",{key:a,staticClass:"star",class:{connected:s.connected},staticStyle:{cursor:"pointer"},attrs:{cx:s.x,cy:s.y,r:"12",fill:s.connected?"#ffd700":"#ddd",stroke:"#ff69b4","stroke-width":"2"},on:{click:function(e){return t.clickStar(a)}}})}),t._l(t.starLines,function(t,s){return e("path",{key:s,attrs:{d:t,stroke:"#ff69b4","stroke-width":"2",fill:"none"}})})],2),e("div",{staticClass:"star-progress"},[t._v(t._s(t.connectedStarsCount)+"/"+t._s(t.stars.length)+" 颗星星已点亮")])])]):t._e(),13===t.currentGame?e("div",{staticClass:"game-content"},[e("h3",[t._v("💖 第十三关：最终告白")]),e("p",[t._v("这份礼物满意吗？")]),e("div",{staticClass:"confession-game"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.confessionInput,expression:"confessionInput"}],staticClass:"confession-input",attrs:{placeholder:"请输入您的想法...",disabled:t.completedGames.includes(13)},domProps:{value:t.confessionInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkConfession.apply(null,arguments)},input:function(e){e.target.composing||(t.confessionInput=e.target.value)}}}),e("button",{staticClass:"game-btn",attrs:{disabled:t.completedGames.includes(13)},on:{click:t.checkConfession}},[t._v(" 确认 ")]),t.completedGames.includes(13)?e("div",{staticClass:"success-hint"},[t._v(" ✅ 谢谢您的回答！礼物已送达！ ")]):t.gameAttempts[13]>0?e("div",{staticClass:"attempt-hint"},[t._v(" 尝试次数: "+t._s(t.gameAttempts[13])+"/"+t._s(t.getMaxAttempts(13))+" ")]):t._e()])]):t._e(),t.allGamesCompleted?e("div",{staticClass:"completion-celebration"},[e("h2",[t._v("🎉 恭喜！所有游戏完成！🎉")]),e("p",[t._v("静文，这十三个游戏代表我们十三年的美好时光")]),e("p",[t._v("每一关都充满了我对你的爱意")]),e("p",[t._v("这份特别的礼物，希望能给你带来快乐！")]),e("div",{staticClass:"transfer-section"},[e("h3",[t._v("💰 特别的小惊喜")]),e("p",[t._v("作为通关奖励，给你准备了一个小红包！")]),e("div",{staticClass:"transfer-amount"},[t._v("¥2400")]),e("div",{staticClass:"transfer-buttons"},[e("button",{staticClass:"transfer-btn alipay-btn",on:{click:t.openAlipayTransfer}},[t._v(" 💙 支付宝转账 ")]),e("button",{staticClass:"transfer-btn info-btn",on:{click:t.showTransferInfo}},[t._v(" 📋 查看转账信息 ")])]),t.showTransferDetails?e("div",{staticClass:"transfer-details"},[e("h4",[t._v("💡 转账信息")]),t._m(2),e("div",{staticClass:"transfer-actions"},[e("button",{staticClass:"transfer-btn copy-btn",on:{click:t.copyTransferInfo}},[t._v(" 📋 复制转账信息 ")]),t._m(3)])]):t._e()]),e("div",{staticClass:"celebration-hearts"},t._l(13,function(s){return e("span",{key:s,staticClass:"floating-heart"},[t._v("💖")])}),0)]):t._e(),e("div",{staticClass:"game-controls"},[t.allGamesCompleted?t._e():e("button",{staticClass:"next-btn",attrs:{disabled:!t.currentGameCompleted},on:{click:t.nextGame}},[t._v(" "+t._s(t.currentGameCompleted?"下一关":"完成当前游戏")+" ")]),e("button",{staticClass:"close-btn",on:{click:t.closeGames}},[t._v("关闭")])])])]):t._e()},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"scene-content"},[e("div",{staticClass:"sun"},[t._v("☀️")]),e("div",{staticClass:"tree"},[t._v("🌲")]),e("div",{staticClass:"house"},[t._v("🏠")]),e("div",{staticClass:"flower"},[t._v("🌸")]),e("div",{staticClass:"bird"},[t._v("🐦")]),e("div",{staticClass:"cloud"},[t._v("☁️")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scene-content"},[e("div",{staticClass:"sun"},[t._v("🌙")]),e("div",{staticClass:"tree"},[t._v("🌲")]),e("div",{staticClass:"house"},[t._v("🏠")]),e("div",{staticClass:"flower"},[t._v("🌸")]),e("div",{staticClass:"bird",staticStyle:{display:"none"}},[t._v("🐦")]),e("div",{staticClass:"cloud"},[t._v("☁️")]),e("div",{staticClass:"star"},[t._v("⭐")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"transfer-info"},[e("p",[e("strong",[t._v("收款人：")]),t._v("刘静文")]),e("p",[e("strong",[t._v("金额：")]),t._v("¥2400.00")]),e("p",[e("strong",[t._v("备注：")]),t._v("十三年爱情游戏通关奖励💕")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"transfer-notes"},[e("p",[t._v("💡 转账步骤：")]),e("p",[t._v('1. 点击"支付宝转账"按钮（手机端）')]),e("p",[t._v("2. 或复制信息手动转账")]),e("p",[t._v("3. 备注：十三年爱情游戏通关奖励💕")])])}],c={name:"LoveGames",data(){return{isVisible:!1,currentGame:1,completedGames:[],gameAttempts:{},currentNumber:0,isFlashing:!1,isBlurry:!1,numberOpacity:1,numberScale:1,numberShake:0,flashInterval:null,effectInterval:null,puzzlePieces:[{placed:!1,number:null},{placed:!1,number:null},{placed:!1,number:null},{placed:!1,number:null}],puzzleTargetNumbers:[0,5,2,8],shuffledPieces:[8,2,0,5],loveQuotes:[{first:"山有木兮木有枝",second:"心悦君兮君不知",matched:!1},{first:"愿得一心人",second:"白头不相离",matched:!1},{first:"执子之手",second:"与子偕老",matched:!1}],shuffledSecondParts:[],selectedLeft:-1,selectedRight:-1,secondPartsMatched:[!1,!1,!1],correctYear:2012,memoryCards:[],flippedCards:[],targetWord:"LOVE",shuffledLetters:["E","V","O","L"],selectedLetters:[],colors:["#ff4757","#2ed573","#1e90ff","#ffa502"],colorSequence:[],playerSequence:[],activeColor:-1,sequenceShowing:!1,gameStarted:!1,timelineEvents:[{title:"2012年相识",order:1},{title:"2013年在一起",order:2},{title:"2015年异地恋",order:3},{title:"2020年决定转型",order:4}],draggedEventIndex:-1,differences:[{id:1,x:20,y:20,found:!1,description:"太阳变月亮"},{id:2,x:100,y:60,found:!1,description:"小鸟消失了"},{id:3,x:150,y:30,found:!1,description:"多了一颗星星"}],passwordInput:["","",""],correctPassword:["5","2","0"],beatCount:0,beatActive:!1,rhythmGameStarted:!1,beatInterval:null,stars:[{x:100,y:100,connected:!1},{x:150,y:80,connected:!1},{x:200,y:100,connected:!1},{x:125,y:150,connected:!1},{x:175,y:150,connected:!1}],starLines:[],currentPath:"",connectingStars:!1,startPoint:{x:0,y:0},confessionInput:"",correctConfession:"静文我爱你",showTransferDetails:!1,transferAmount:2400,recipientName:"刘静文",recipientAccount:"请填入女友的支付宝账号",recipientAlipayId:""}},computed:{currentGameCompleted(){return this.completedGames.includes(this.currentGame)},allGamesCompleted(){return 13===this.completedGames.length},availablePuzzlePieces(){return this.shuffledPieces.filter(t=>!this.puzzlePieces.some(e=>e.placed&&e.number===t))},connectedStarsCount(){return this.stars.filter(t=>t.connected).length},foundDifferencesCount(){return this.differences.filter(t=>t.found).length}},mounted(){this.initializeGames()},methods:{getMaxAttempts(t){return t<=5?3:2},getGameAttempts(t){return this.gameAttempts[t]||0},incrementAttempts(t){this.gameAttempts[t]||(this.gameAttempts[t]=0),this.gameAttempts[t]++},shouldAutoPass(t){const e=this.getGameAttempts(t),s=this.getMaxAttempts(t);return e>=s},show(){this.isVisible=!0,this.isFlashing=!1,this.isBlurry=!1,this.numberOpacity=1,this.numberScale=1,this.numberShake=0,this.currentNumber=0,this.flashInterval&&clearInterval(this.flashInterval),this.effectInterval&&clearInterval(this.effectInterval)},closeGames(){this.isVisible=!1,this.$emit("close")},initializeGames(){this.shufflePuzzlePieces(),this.shuffleQuotes(),this.initMemoryCards(),this.shuffleTimelineEvents()},startNumberFlash(){if(1===this.currentGame&&!this.completedGames.includes(1)){this.isFlashing=!0,this.currentNumber=0;const t=this.getGameAttempts(1);let e=[];e=0===t?[66,15,22,8,66,18,66,25,12]:1===t?[66,12,66,7,66,20,66,66,16]:[66,5,66,9,66,13,66,2,66,66];let s=0;this.flashInterval=setInterval(()=>{t>=2?this.currentNumber=Math.random()>.3?66:Math.floor(99*Math.random())+1:(this.currentNumber=e[s%e.length],s++)},800),this.effectInterval=setInterval(()=>{t>=2?(this.isBlurry=Math.random()>.7,this.numberOpacity=.7+.3*Math.random(),this.numberScale=.9+.2*Math.random(),this.numberShake=4*(Math.random()-.5)):(this.isBlurry=Math.random()>.5,this.numberOpacity=.4+.6*Math.random(),this.numberScale=.8+.4*Math.random(),this.numberShake=8*(Math.random()-.5))},300)}},stopFlash(){this.isFlashing=!1,clearInterval(this.flashInterval),clearInterval(this.effectInterval),this.isBlurry=!1,this.numberOpacity=1,this.numberScale=1,this.numberShake=0;const t=this.getGameAttempts(1);if(66===this.currentNumber)this.completeGame(1,"太棒了！66是我们的幸运数字！💕");else{this.incrementAttempts(1);let e="";e=0===t?`数字是${this.currentNumber}，不是66哦！别着急，再试一次～`:1===t?`数字是${this.currentNumber}，差一点点！再试一次～`:`数字是${this.currentNumber}，最后一次机会！仔细看～`,alert(e),setTimeout(()=>{this.startNumberFlash()},1500)}},shufflePuzzlePieces(){this.shuffledPieces=[0,5,2,8].sort(()=>Math.random()-.5)},startPuzzleDrag(t){t.dataTransfer.setData("text/plain",t.target.dataset.piece)},endPuzzleDrag(){},dropPuzzlePiece(t,e){t.preventDefault();const s=parseInt(t.dataTransfer.getData("text/plain")),a=this.puzzleTargetNumbers[e];if(s===a)this.puzzlePieces[e].placed=!0,this.puzzlePieces[e].number=s,this.puzzlePieces.every(t=>t.placed)&&this.completeGame(2,"太棒了！0528日期拼图完成，我们的纪念日！💕");else if(this.incrementAttempts(2),this.shouldAutoPass(2))this.puzzlePieces.forEach((t,e)=>{t.placed=!0,t.number=this.puzzleTargetNumbers[e]}),setTimeout(()=>{this.completeGame(2,"太棒了！0528日期拼图完成，我们的纪念日！💕（系统自动帮助通过）")},500);else{const t=this.puzzleTargetNumbers.indexOf(s)+1;alert(`数字${s}应该放到第${t}位哦！再试试看～`)}},shuffleQuotes(){this.shuffledSecondParts=[...this.loveQuotes].sort(()=>Math.random()-.5)},selectLeft(t){this.selectedLeft=t,this.checkQuoteMatch()},selectRight(t){this.selectedRight=t,this.checkQuoteMatch()},checkQuoteMatch(){if(this.selectedLeft>=0&&this.selectedRight>=0){const t=this.loveQuotes[this.selectedLeft],e=this.shuffledSecondParts[this.selectedRight];t.second===e.second&&(t.matched=!0,this.secondPartsMatched[this.selectedRight]=!0,this.loveQuotes.every(t=>t.matched)&&this.completeGame(3,"完美！情话配对成功！你懂我的心💕")),this.selectedLeft=-1,this.selectedRight=-1}},selectYear(t){this.completedGames.includes(4)||(this.getGameAttempts(4)>=this.getMaxAttempts(4)?this.completeGame(4,"答对了！2012年我们相识，那是最美好的开始！💕（系统自动帮助通过）"):t===this.correctYear?this.completeGame(4,"答对了！2012年我们相识，那是最美好的开始！💕"):(this.incrementAttempts(4),this.shouldAutoPass(4)?setTimeout(()=>{this.completeGame(4,"答对了！2012年我们相识，那是最美好的开始！💕（系统自动帮助通过）")},500):alert(`不对哦，再想想我们是哪一年相遇的～ (${this.getGameAttempts(4)}/${this.getMaxAttempts(4)})`)))},initMemoryCards(){const t=["💕","🌹","💍","🎵","💕","🌹","💍","🎵"];this.memoryCards=t.map(t=>({emoji:t,flipped:!1,matched:!1})).sort(()=>Math.random()-.5)},flipCard(t){this.memoryCards[t].flipped||this.memoryCards[t].matched||(this.memoryCards[t].flipped=!0,this.flippedCards.push(t),2===this.flippedCards.length&&setTimeout(()=>{this.checkMemoryMatch()},500))},checkMemoryMatch(){const[t,e]=this.flippedCards;this.memoryCards[t].emoji===this.memoryCards[e].emoji?(this.memoryCards[t].matched=!0,this.memoryCards[e].matched=!0,this.memoryCards.every(t=>t.matched)&&this.completeGame(5,"记忆力超棒！找到了所有配对！💕")):(this.memoryCards[t].flipped=!1,this.memoryCards[e].flipped=!1),this.flippedCards=[]},selectLetter(t){this.selectedLetters.push(t),this.selectedLetters.join("")===this.targetWord?this.completeGame(6,"LOVE！你拼出了我想说的话！💕"):4===this.selectedLetters.length&&(this.incrementAttempts(6),this.shouldAutoPass(6)?(this.selectedLetters=["L","O","V","E"],setTimeout(()=>{this.completeGame(6,"LOVE！你拼出了我想说的话！💕（系统自动帮助通过）")},500)):this.selectedLetters=[])},startColorGame(){this.gameStarted=!0,this.colorSequence=[],this.playerSequence=[];for(let t=0;t<5;t++)this.colorSequence.push(Math.floor(4*Math.random()));this.showColorSequence()},showColorSequence(){this.sequenceShowing=!0,this.colorSequence.forEach((t,e)=>{setTimeout(()=>{this.activeColor=t,setTimeout(()=>{this.activeColor=-1,e===this.colorSequence.length-1&&(this.sequenceShowing=!1)},500)},1e3*e)})},clickColor(t){this.sequenceShowing||(this.playerSequence.push(t),this.playerSequence.length===this.colorSequence.length&&(JSON.stringify(this.playerSequence)===JSON.stringify(this.colorSequence)?this.completeGame(7,"颜色记忆完美！你的记忆力真棒！💕"):(alert("顺序不对哦，再试试看！"),this.gameStarted=!1,this.sequenceShowing=!1,this.playerSequence=[],this.colorSequence=[],this.activeColor=-1)))},shuffleTimelineEvents(){this.timelineEvents.sort(()=>Math.random()-.5)},startTimelineDrag(t){this.draggedEventIndex=t},dropTimelineEvent(t){if(-1!==this.draggedEventIndex){const e=this.timelineEvents[this.draggedEventIndex];this.timelineEvents.splice(this.draggedEventIndex,1),this.timelineEvents.splice(t,0,e),this.draggedEventIndex=-1}},checkTimelineOrder(){const t=this.timelineEvents.every((t,e)=>t.order===e+1);t&&this.completeGame(8,"时间轴排序正确！你记得我们的每个重要时刻！💕")},foundDifference(t){const e=this.differences.find(e=>e.id===t);e&&!e.found&&(e.found=!0,alert(`找到了！${e.description} ✅`),this.differences.every(t=>t.found)&&setTimeout(()=>{this.completeGame(9,"火眼金睛！所有不同之处都被你找到了！💕")},500))},inputPassword(t){if(this.completedGames.includes(10))return;const e=[...this.passwordInput];for(let s=0;s<e.length;s++)if(""===e[s]){e[s]=t.toString(),this.passwordInput=e,s===e.length-1&&setTimeout(()=>{this.checkPassword()},500);break}},clearPassword(){this.completedGames.includes(10)||(this.passwordInput=["","",""])},checkPassword(){JSON.stringify(this.passwordInput)===JSON.stringify(this.correctPassword)?this.completeGame(10,"密码正确！520，我想静文念得数字！💕"):(this.incrementAttempts(10),this.shouldAutoPass(10)?(this.passwordInput=["5","2","0"],setTimeout(()=>{this.completeGame(10,"密码正确！520，我想静文念得数字！💕（系统自动帮助通过）")},500)):setTimeout(()=>{this.clearPassword()},1e3))},startRhythmGame(){this.rhythmGameStarted=!0,this.beatInterval=setInterval(()=>{this.beatActive=!0,setTimeout(()=>{this.beatActive=!1},200)},800),document.addEventListener("click",this.handleBeatClick)},handleBeatClick(){this.beatActive&&(this.beatCount++,13===this.beatCount&&(clearInterval(this.beatInterval),document.removeEventListener("click",this.handleBeatClick),this.completeGame(11,"节拍完美！13下代表我们13年的爱情！💕")))},clickStar(t){this.stars[t].connected=!this.stars[t].connected,this.stars.every(t=>t.connected)&&(this.drawHeartLines(),setTimeout(()=>{this.completeGame(12,"星星连线成功！组成了爱的形状！💕")},1e3))},drawHeartLines(){const t=[`M ${this.stars[0].x} ${this.stars[0].y} Q ${this.stars[1].x-10} ${this.stars[1].y-10} ${this.stars[3].x} ${this.stars[3].y}`,`M ${this.stars[2].x} ${this.stars[2].y} Q ${this.stars[1].x+10} ${this.stars[1].y-10} ${this.stars[4].x} ${this.stars[4].y}`,`M ${this.stars[3].x} ${this.stars[3].y} L ${this.stars[1].x} ${this.stars[1].y+30} L ${this.stars[4].x} ${this.stars[4].y}`];this.starLines=t},checkConfession(){""!==this.confessionInput.trim()?this.completeGame(13,"谢谢你的回答！这份爱的礼物就是为你准备的！💕"):alert("请输入您的想法～")},openAlipayTransfer(){if(!this.recipientAlipayId)return alert("⚠️ 重要提醒：\n\n请先在代码中设置收款人的支付宝账号！\n在 recipientAlipayId 字段填入女友的支付宝账号或手机号。\n\n为了安全起见，不建议在代码中直接硬编码敏感信息。"),void(this.showTransferDetails=!0);const t=this.transferAmount,e=encodeURIComponent("十三年爱情游戏通关奖励💕");if(this.isMobile()){const a=`alipays://platformapi/startapp?appId=09999988&actionType=scan&biz_data={"s":"money","u":"${this.recipientAlipayId}","a":"${t}","m":"${e}"}`;try{window.location.href=a}catch(s){this.showManualTransferGuide()}}else this.showManualTransferGuide()},showManualTransferGuide(){alert(`💰 转账信息：\n\n收款人：${this.recipientName}\n金额：¥${this.transferAmount}\n备注：十三年爱情游戏通关奖励💕\n\n请手动打开支付宝进行转账～`),this.showTransferDetails=!0},showTransferInfo(){this.showTransferDetails=!this.showTransferDetails},isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},copyTransferInfo(){const t=`收款人：${this.recipientName}\n金额：¥${this.transferAmount}\n备注：十三年爱情游戏通关奖励💕`;if(navigator.clipboard)navigator.clipboard.writeText(t).then(()=>{alert("转账信息已复制到剪贴板！")});else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("转账信息已复制到剪贴板！")}},completeGame(t,e){this.completedGames.includes(t)||(this.completedGames.push(t),alert(e))},forceCompleteCurrentGame(){const t={1:"太棒了！31号正是我们在一起的日子！💕",2:"太棒了！0528日期拼图完成，我们的纪念日！💕",3:"完美！情话配对成功！你懂我的心💕",4:"答对了！2012年我们相识，那是最美好的开始！💕",5:"记忆力超棒！找到了所有配对！💕",6:"LOVE！你拼出了我想说的话！💕",7:"颜色记忆完美！你的记忆力真棒！💕",8:"时间轴排序正确！你记得我们的每个重要时刻！💕",9:"火眼金睛！所有不同之处都被你找到了！💕",10:"密码正确！520，我想静文念得数字！💕",11:"节拍完美！13下代表我们13年的爱情！💕",12:"星星连线成功！组成了爱的形状！💕",13:"谢谢你的回答！这份爱的礼物就是为你准备的！💕"},e=t[this.currentGame]+"（紧急修复通过）";this.completeGame(this.currentGame,e)},nextGame(){this.currentGame<13&&(this.currentGame++,1===this.currentGame?(this.isFlashing=!1,this.isBlurry=!1,this.numberOpacity=1,this.numberScale=1,this.numberShake=0,this.currentNumber=0,this.flashInterval&&clearInterval(this.flashInterval),this.effectInterval&&clearInterval(this.effectInterval)):2===this.currentGame?(this.puzzlePieces=[{placed:!1,number:null},{placed:!1,number:null},{placed:!1,number:null},{placed:!1,number:null}],this.shufflePuzzlePieces()):3===this.currentGame?(this.loveQuotes.forEach(t=>t.matched=!1),this.secondPartsMatched=[!1,!1,!1],this.selectedLeft=-1,this.selectedRight=-1,this.shuffleQuotes()):5===this.currentGame?(this.initMemoryCards(),this.flippedCards=[]):6===this.currentGame?this.selectedLetters=[]:7===this.currentGame?(this.gameStarted=!1,this.sequenceShowing=!1,this.colorSequence=[],this.playerSequence=[],this.activeColor=-1):8===this.currentGame?this.shuffleTimelineEvents():9===this.currentGame?this.differences.forEach(t=>t.found=!1):10===this.currentGame?this.passwordInput=["","",""]:11===this.currentGame?(this.rhythmGameStarted=!1,this.beatCount=0,this.beatActive=!1,this.beatInterval&&(clearInterval(this.beatInterval),this.beatInterval=null),document.removeEventListener("click",this.handleBeatClick)):12===this.currentGame?(this.stars.forEach(t=>t.connected=!1),this.starLines=[],this.currentPath="",this.connectingStars=!1):13===this.currentGame&&(this.confessionInput=""))}}},l=c,o=s(656),d=(0,o.A)(l,r,n,!1,null,"5511280b",null),h=d.exports,u={name:"Letters",components:{LoveGames:h},data(){return{showModal:!1,currentLetter:null,currentIndex:0,letters:[{title:"致我最爱的你",date:"2011年夏天",author:"我",excerpt:"从第一眼见到你开始，我就知道你是那个特别的人...",content:["我最亲爱的静文，","提起笔的这一刻，我的心情很激动，因为这是我第一次给你写情书。","从第一眼见到你开始，我就知道你是那个特别的人。你的笑容如春光般温暖，眼神如星光般明亮，就像夏日午后的温柔微风，不经意间就吹进了我的心里。","也许这听起来很俗套，但我真的觉得遇见你是我这辈子最幸运的事情。你的善良、你的美丽、你的聪慧，还有你身上那种独特的气质，都深深地吸引着我。","我想和你一起走过人生的每一个春夏秋冬，想在每个清晨醒来时看到你的睡颜，想在每个夜晚入睡前对你说晚安。想陪你看遍世间的美好，想成为你最可靠的依靠。","我爱你，不仅仅是因为你的美丽，更因为和你在一起时我成为了更好的自己。你让我相信爱情的美好，让我对未来充满期待。","希望你能接受我的心意，也希望我们能一起创造属于我们的美好回忆。"],signature:"鼓起勇气写下这封信的我 ❤️"},{title:"谢谢你选择了我",date:"2012年冬天",author:"我",excerpt:"收到你的信后，我的心跳得好快，脸颊发烫...",content:["我最亲爱的静文，","你能选择我，我的心跳得好快，脸颊发烫。原来被喜欢的人喜欢是这样的感觉啊！","2012年是我最幸运的一年，因为遇到了你。那时候不知道我们能走多远，但回头看看来时的路，我知道我的选择没有错。","你是那么优秀、坚韧，也那么温柔体贴。因为有你，我的世界不再单调，连平凡的日子都泛着光。","谢谢你选择了我，谢谢你愿意和我一起走这条路。我会珍惜你，保护你，一直一直爱着你。","谢谢你，一直在我身边。"],signature:"你的男朋友 💕"},{title:"一年纪念日快乐",date:"2013年",author:"我",excerpt:"不知不觉我们已经在一起一年了，这一年来的每一天都充满了幸福...",content:["我的小公主静文，","我在邱县，你在曲周，这段不远不近的路，我已经走得越来越熟了。只要一有时间，我就想去看看你，哪怕只是见上一面，陪你吃顿饭，听你讲几句话，心里也就踏实了。","别人说感情需要仪式感，其实对我来说，每一次去见你，就是我最郑重的仪式。你在的地方，就是我心安的方向。下一次见面，我希望你也能记得，这一路，我是真的在奔向你。","我期待着下一次见面，期待着和你一起走过的每一个瞬间。"],signature:"一年纪念日快乐！一年如初见般爱你的我 🎉💕"},{title:"异地恋的思念",date:"2014年",author:"我",excerpt:"上了大学我们距离变远了...",content:["我最想念的人，","上了大学，我去了石家庄，我们之间的距离也一下子拉开了。那时候有点不安，总想找你说说话，哪怕只听听你的声音也好。","可我也知道你学习很忙，有时候怕自己打扰到你。现在回头想想，确实影响到你了，我挺后悔的。但喜欢从来都不是借口，做错了就该承担。","我不想说太多好听的，只想以后多做点实在的事，好好待你，不让你为难。","我期待着下一次见面，期待着和你一起走过的每一个瞬间。"],signature:"想你想到睡不着的我 😘"},{title:"被困住的恋情",date:"2015年",author:"我",excerpt:"封闭中的你，我...",content:["我最想念的人，","你在严格的学校进修一年，对你的思念，迫使我，只要你能放假，我就去你的城市见见你，","但我这次决定不能耽误你的学习，不过还是恭喜你成功达到自己的学习目标，我为你骄傲，要生活气息的过好每一天，","我期待着下一次见面，期待着和你一起走过的每一个瞬间。"],signature:"EMO的我 😘"},{title:"我回来了",date:"2016年",author:"我",excerpt:"危机之后，重归于好",content:["犯错及时认错的人，","上半年，对你的粗暴冷落，让你有了离开的念头，谢谢你给我原谅我的机会","下半年去了北京干了房产中介，一份现在看极度不靠谱的工作，累死累活，也没有好好的陪伴你，我的心中满是后悔","如果从一开始，我能找好方向，好好挣钱，不走那么多弯路，我相信，你已经成了小富婆了"],signature:"愧疚的我 😘"},{title:"弯路那么多",date:"2017年",author:"我",excerpt:"又为愚蠢买单了",content:["做了一分骗人的工作，居然做了3年","以为是朝阳产业，其实各种不正经，各种福利待遇差的工作，但是和你在北京过得挺乐呵呵的，","我不怀念那时候，因为当时心态还是太幼稚，总想一步登天，没有脚踏实地，好好规划自己的人生，而你帮我成长，默默等着那么多年","我挺后悔，当时的固执，不听话，遇到当年的自己，一定好好打他一顿，让他好好听静文的指点"],signature:"愧疚的我 😘"},{title:"蜕变",date:"2020年",author:"我",excerpt:"下定决定，转型",content:["学习原来是简单的","你在步步向前走，虽然我内心要强，觉得不能做别人的绊脚石，但是，我更想和你一起走，","我决定，转型到互联网行业，","我感谢你，在我最低落的时候陪伴我，感谢你在我最骄傲的时候提醒我，感谢你一直以来对我的包容和理解。",'现在的我已经不再是当初那个只会说"我爱你"的年轻人了，我学会了用行动去证明爱情，用时间去见证承诺。',"我希望都能和你一起度过。让我们一起变老，一起看遍世间的美好。"],signature:"学习的小发 💖"},{title:"一个愚蠢的人",date:"2022年",author:"我",excerpt:"南辕北辙",content:["我的傲慢和冲动，终究付出了巨大的代价","谢谢你还爱着我，谢谢你还在等我，谢谢你还在给我机会","你是个善良的姑娘，做事也雷厉风行，但是唯独给了我最大的温柔和包容，我何等的荣幸，虽然我也是一路陪伴你走来","渐渐地我已经掉队很远了，虽然嘴硬，不承认，但是也得尊重客观事实，你愿意跟我一块创业一块经历，","已经超过了很大的承受能力，我很感激你，","我希望的努力能对的起你美丽的你"],signature:"努力发 💖"},{title:"十三年的感谢",date:"2024年",author:"我",excerpt:"十三年了，感谢你一直陪在我身边，感谢你让我成为更好的自己...",content:["我此生最爱的人，","十三年了，感谢你一直陪在我身边，感谢你让我成为更好的自己。","回首这十三年的时光，每一个瞬间都是那么珍贵。从校园的青涩岁月到如今的成熟稳重，我们一起成长，一起进步。","你是我的初恋，也是我的最爱。你是我青春的见证者，也是我未来的同行者。","这个网站是我想对你表达爱意的一种方式，希望能通过这些文字和图片，让你感受到我对你深深的爱。","生日快乐，我的宝贝！愿你永远快乐，永远美丽，永远是我心中那个最特别的人。","愿我们的爱情故事永远没有终点，愿我们的幸福能够延续到生命的最后一刻。"],signature:"永远永远爱你的我 🎂❤️"}]}},mounted(){this.initAOS()},methods:{handleLetterClick(t,e){e===this.letters.length-1?this.startLoveGames():this.openLetter(t,e)},startLoveGames(){this.$refs.loveGames.show()},onGamesClose(){console.log("游戏已关闭")},openLetter(t,e){this.currentLetter=t,this.currentIndex=e,this.showModal=!0,document.body.style.overflow="hidden"},closeModal(){this.showModal=!1,this.currentLetter=null,document.body.style.overflow="auto"},prevLetter(){this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.letters.length-1,this.currentLetter=this.letters[this.currentIndex]},nextLetter(){this.currentIndex=this.currentIndex<this.letters.length-1?this.currentIndex+1:0,this.currentLetter=this.letters[this.currentIndex]},initAOS(){const t={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&t.target.classList.add("aos-animate")})},t);document.querySelectorAll("[data-aos]").forEach(t=>{e.observe(t)})}}},m=u,p=(0,o.A)(m,a,i,!1,null,"645a754a",null),v=p.exports}}]);